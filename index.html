
<!doctype html>
<html lang="en" data-bs-theme="auto">
<head><script src="https://getbootstrap.com/docs/5.3/assets/js/color-modes.js"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.122.0">
    <title>Urban Mobility Group</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/carousel/">




    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">

    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="/docs/5.3/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/docs/5.3/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/docs/5.3/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="manifest" href="/docs/5.3/assets/img/favicons/manifest.json">
    <link rel="mask-icon" href="/docs/5.3/assets/img/favicons/safari-pinned-tab.svg" color="#712cf9">
    <link rel="icon" href="/docs/5.3/assets/img/favicons/favicon.ico">
    <meta name="theme-color" content="#712cf9">


    <style>
        * {
            border-radius: 0 !important;
        }

        .bd-placeholder-img {
          font-size: 1.125rem;
          text-anchor: middle;
          -webkit-user-select: none;
          -moz-user-select: none;
          user-select: none;
        }

        @media (min-width: 768px) {
          .bd-placeholder-img-lg {
            font-size: 3.5rem;
          }
        }

        .b-example-divider {
          width: 100%;
          height: 3rem;
          background-color: rgba(0, 0, 0, .1);
          border: solid rgba(0, 0, 0, .15);
          border-width: 1px 0;
          box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
        }

        .b-example-vr {
          flex-shrink: 0;
          width: 1.5rem;
          height: 100vh;
        }

        .bi {
          vertical-align: -.125em;
          fill: currentColor;
        }

        .nav-scroller {
          position: relative;
          z-index: 2;
          height: 2.75rem;
          overflow-y: hidden;
        }

        .nav-scroller .nav {
          display: flex;
          flex-wrap: nowrap;
          padding-bottom: 1rem;
          margin-top: -1px;
          overflow-x: auto;
          text-align: center;
          white-space: nowrap;
          -webkit-overflow-scrolling: touch;
        }

        .btn-bd-primary {
          --bd-violet-bg: #712cf9;
          --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

          --bs-btn-font-weight: 600;
          --bs-btn-color: var(--bs-white);
          --bs-btn-bg: var(--bd-violet-bg);
          --bs-btn-border-color: var(--bd-violet-bg);
          --bs-btn-hover-color: var(--bs-white);
          --bs-btn-hover-bg: #6528e0;
          --bs-btn-hover-border-color: #6528e0;
          --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
          --bs-btn-active-color: var(--bs-btn-hover-color);
          --bs-btn-active-bg: #5a23c8;
          --bs-btn-active-border-color: #5a23c8;
        }

        .bd-mode-toggle {
          z-index: 1500;
        }

        .bd-mode-toggle .dropdown-menu .active .bi {
          display: block !important;
        }

         #map { height: 500px; width: 100%; }

        .controls {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background-color: white;
            padding: 10px;
            border-radius: 5px;
            z-index: 999;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
    </style>


    <!-- Custom styles for this template -->
    <link href="css/carousel.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" class="d-none">
    <symbol id="check2" viewBox="0 0 16 16">
        <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
    </symbol>
    <symbol id="circle-half" viewBox="0 0 16 16">
        <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
    </symbol>
    <symbol id="moon-stars-fill" viewBox="0 0 16 16">
        <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
    </symbol>
    <symbol id="sun-fill" viewBox="0 0 16 16">
        <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
    </symbol>
</svg>

<header data-bs-theme="light">
    <nav class="navbar navbar-expand-md navbar-light fixed-top bg-white border-bottom">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
<!--                <img src="images/LOGO_ERC.png" alt="realTRIPS Logo" width="35" height="35">-->
                Urban Mobility Group
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav me-auto mb-2 mb-md-0">
                    <li class="nav-item">
                        <a class="nav-link" href="projects.html">Projects</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="publications.html">Publications</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="presentations.html">Presentations</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="team.html">Team</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="opportunities.html">Opportunities</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="news.html">News</a>
                    </li>

                </ul>
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-primary" type="submit">Search</button>
                </form>
            </div>
        </div>
    </nav>
</header>

<main>

    <div id="myCarousel" class="carousel slide mb-6" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="container">
                    <div class="carousel-caption text-start">
                        <h1>Redefining Variability</h1>
                        <p class="opacity-75">EvALuating Land Use and TRansport Impacts on Urban Mobility PatternS (realTRIPS)</p>
                        <p><a class="btn btn-lg btn-outline-light" href="about.html">Explore research areas</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Marketing messaging and featurettes
    ================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->

    <div class="container marketing">
        <div class="row">
            <div class="col-md-12" style="position: relative;">
                <div id="map" style="width: 100%; height: 400px;"></div>

                <div class="controls" style="
            position: absolute;
            left: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            z-index: 1000;
            flex-direction: column;
            white-space: nowrap;
        ">
                    <label style="">
                        <input type="radio" name="mode" value="SIP_bi" checked>
                        <span style="margin-left: 5px;">Bicycle</span>
                    </label>
                    <label style="">
                        <input type="radio" name="mode" value="SIP_car">
                        <span style="margin-left: 5px;">Car</span>
                    </label>
                    <label>
                        <input type="radio" name="mode" value="SIP_pt">
                        <span style="margin-left: 5px;">Public Transport</span>
                    </label>
                </div>
            </div>
        </div>        <!-- /.row -->
        <hr class="featurette-divider">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h3 class="fw-normal lh-1 mt-3">Redefining Variability: Evaluating Land Use and Transport Impacts on Urban Mobility Patterns (realTRIPS)
                    </h3>
                    <p>realTRIPS aims to open a new avenue of research in urban mobility analysis using emerging automatic data by developing an analytical and modelling framework, particularly addressing variability across spatial-temporal scales and of population groups. The proposed framework will leverage key concepts from uncertainty in spatial analysis, time geography, land use transport modelling, and urban planning. Under this theoretical framework, new variability measures will be developed and integrated as a function of space and time into operational urban models. These urban models will generate a more accurate evaluation of land use and transport impacts on people’s mobility patterns in terms of the affected area and effect time. Case studies in three typical urban contexts (i.e. London, Shenzhen, and Nairobi) will be explored to demonstrate the feasibility and generic applicability of the proposed framework, analytical methods and urban models.
                    </p>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h4 class="fw-normal lh-1 mt-3">Develop a new theoretical framework describing the variability of urban mobility patterns
                    </h4>
                    <p>across spatiotemporal scales by leveraging concepts from uncertainty in spatial analysis, time geography, land use and transport, and examples of urban development scenarios.

                    </p>
                </div>
                <div class="col-md-12">
                    <h4 class="fw-normal lh-1 mt-3">Develop a set of variability measures for mobility pattern analysis
                    </h4>
                    <p>This involves a comprehensive review of previous work on mobility patterns analysis using emerging location data.

                    </p>
                </div>
                <div class="col-md-12">
                    <h4 class="fw-normal lh-1 mt-3">Integrate functions of variability into established computational urban models
                    </h4>
                    <p>The variability function will then be integrated into classic urban models. The spatial interaction model, which is the one most commonly used for predicting location choice, will be explored in the first instance. There is a plan to extend the research to look at the spatial network model, which is a more recent development but widely used for understanding spatial structure. Both aspects are essential for land use and transport planning.

                    </p>
                </div>
            </div>
        </div>
        <!-- START THE FEATURETTES -->

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-6">
                <h3 class=" fw-normal lh-1">Invited talk to HKpoly LSGI geospatial talk series</h3>
                <p class="">Invited talk to HKpoly LSGI geospatial talk series: Exploring socio-spatial inequalities in urban mobilityInvited talk to HKpoly LSGI geospatial talk series: Exploring socio-spatial inequalities in urban mobility</p>
                <h3 class=" fw-normal lh-1">Invited talk to HKpoly LSGI geospatial talk series</h3>
                <p class="">Invited talk to HKpoly LSGI geospatial talk series: Exploring socio-spatial inequalities in urban mobilityInvited talk to HKpoly LSGI geospatial talk series: Exploring socio-spatial inequalities in urban mobility</p>
                <hr>
                <a href="">Read all news</a>
            </div>
            <div class="col-md-6">
                <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="100%" height="300" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="var(--bs-secondary-bg)"/><text x="50%" y="50%" fill="var(--bs-secondary-color)" dy=".3em">630x300</text></svg>
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-6 order-md-2">
                <h3 class=" fw-normal lh-1">Income estimation based on human mobility patterns and machine learning models.</h3>
                <p class="">Another featurette? Of course. More placeholder content here to give you an idea of how this layout would work with some actual real-world content in place.</p>
                <h3 class=" fw-normal lh-1"> An extended node-place model for comparative studies of transit-oriented developmen</h3>
                <p class="">Another featurette? Of course. More placeholder content here to give you an idea of how this layout would work with some actual real-world content in place.</p>
                <hr>
                <a href="">See all publications</a>
            </div>
            <div class="col-md-6 order-md-1">
                <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="100%" height="300" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="var(--bs-secondary-bg)"/><text x="50%" y="50%" fill="var(--bs-secondary-color)" dy=".3em">630x300</text></svg>
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-6">
                <h3 class=" fw-normal lh-1">The 12 International Conference on Geographic Information Science</h3>
                <p class="">Digital Injustice: A Case Study of Land Use Classification using Multisource Data in Nairobi, Kenya</p>
                <h3 class=" fw-normal lh-1">International Conference on Geoinformatics in 2023</h3>
                <p class="">Quantifying responses to the expansion of the Ultra Low Emission Zone in London</p>
                <hr>
                <a href="">See all presentations</a>
            </div>
            <div class="col-md-6">
                <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="100%" height="300" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="var(--bs-secondary-bg)"/><text x="50%" y="50%" fill="var(--bs-secondary-color)" dy=".3em">630x300</text></svg>
            </div>
        </div>

        <hr class="featurette-divider">

        <!-- /END THE FEATURETTES -->

    </div><!-- /.container -->


    <!-- FOOTER -->
    <footer class="container">
        <p class="float-end"><a href="#">Back to top</a></p>
        <p>&copy; 2025 Urban Mobility Group, &middot; <a href="#">Contact</a></p>
    </footer>
</main>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
    let regionPairs = [];
    fetch('data/SIP_camden_adjbbox_normed.json')
        .then(response => response.json())
        .then(data => {
            regionPairs = data;
        })
        .catch(error => console.error('Error loading region pairs:', error));

    var map = L.map('map', {
        zoomControl: false,         // Remove zoom control buttons
        scrollWheelZoom: false,     // Disable zooming with the mouse wheel
        doubleClickZoom: false,     // Disable zooming on double-click
        touchZoom: false,           // Disable touch-based zooming
        boxZoom: false              // Disable zooming with box selection
    }).setView([51.54332, -0.15658], 14);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/attributions">CartoDB</a>'
    }).addTo(map);

    // Assuming you have initialized a Leaflet map instance named `map`
    const bounds = map.getBounds();

    // Bounding box coordinates
    const bbox = {
        north: bounds.getNorth(),
        south: bounds.getSouth(),
        east: bounds.getEast(),
        west: bounds.getWest()
    };

    console.log("Bounding Box:", bbox);


    function getColor(value) {
        if (value < 0.1) return 'lightblue';
        if (value < 0.3) return 'lightgreen';
        if (value < 0.6) return 'yellow';
        if (value < 0.9) return 'orange';
        return 'red';
    }

    let geojsonLayer;
    fetch('data/aggregated.geojson')
        .then(response => response.json())
        .then(data => {
            if (data.features && data.features.length > 0) {
                geojsonLayer = L.geoJSON(data, {
                    style: function (feature) {
                        return {
                            fillColor: 'lightblue',
                            color: 'blue',
                            weight: 2,
                            opacity: 0.8,
                            fillOpacity: 0.3
                        };
                    }
                }).addTo(map);

                function highlightTargetRegion(sourceRegionCode) {
                    const selectedMode = getSelectedMode();
                    const connectedTargets = new Set();
                    regionPairs.forEach(pair => {
                        if (pair.source === sourceRegionCode) {
                            connectedTargets.add(pair.target);
                        }
                    });

                    geojsonLayer.eachLayer(function (layer) {
                        const regionId = layer.feature.properties.lsoa21cd;
                        if (connectedTargets.has(regionId)) {
                            const regionPair = regionPairs.find(pair => pair.source === sourceRegionCode && pair.target === regionId);
                            const value = regionPair ? regionPair[selectedMode] : 0;

                            console.log(regionPair);
                            const color = getColor(value);

                            layer.setStyle({
                                fillColor: color,
                                weight: 3,
                                fillOpacity: 0.7
                            });
                        } else {
                            layer.setStyle({
                                fillColor: 'lightblue',
                                weight: 2,
                                fillOpacity: 0.3
                            });
                        }
                    });
                }

                function resetHighlight() {
                    geojsonLayer.eachLayer(function (layer) {
                        layer.setStyle({
                            fillColor: 'lightblue',
                            weight: 2,
                            fillOpacity: 0.3
                        });
                    });
                }

                geojsonLayer.on('mouseover', function (event) {
                    const regionCode = event.layer.feature.properties.lsoa21cd;
                    highlightTargetRegion(regionCode);
                });

                geojsonLayer.on('mouseout', resetHighlight);

                const radioButtons = document.querySelectorAll('input[name="mode"]');
                radioButtons.forEach(button => {
                    button.addEventListener('change', updateMapColors);
                });

                function updateMapColors() {
                    const selectedMode = getSelectedMode();
                    if (!selectedMode) return;

                    geojsonLayer.eachLayer(function (layer) {
                        const regionCode = layer.feature.properties.lsoa21cd;
                        let value = 0;

                        const regionPair = regionPairs.find(pair => pair.source === regionCode || pair.target === regionCode);
                        if (regionPair) {
                            value = regionPair[selectedMode.toLowerCase()];
                        }

                        const color = getColor(value);

                        layer.setStyle({
                            fillColor: color,
                            weight: 2,
                            fillOpacity: 0.6
                        });
                    });
                }

                function getSelectedMode() {
                    return 'SIP_bi';
                    const selectedRadio = document.querySelector('input[name="mode"]:checked');
                    return selectedRadio ? selectedRadio.value : 'SIP_bi';
                }
            } else {
                console.error('GeoJSON data is empty or invalid.');
            }
        })
        .catch(error => console.error('Error loading GeoJSON: ', error));

</script>

</body>
</html>
